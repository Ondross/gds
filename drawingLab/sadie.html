<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.0/lib/p5.js">
    </script>
    <script>
        function setup(){
            createCanvas(800, 600)
            frameRate(60);
        }
        
        let color = 'blue'
        let randNum = Math.random()
        let lineWeight = 5;
        let xPos = [0];
        let yPos = [0];
        let running = 0;
        let counter = 0;
        let direction = "up";
        let fr = 30;
        

        if (randNum > .8){
            color = 'blue';
        } else if((randNum <=.8) && (randNum > .6)){
            color = 'red';
        }else if((randNum <=.6) && (randNum >.4)){
            color = 'purple';
        }else if ((randNum <= .4) && (randNum >.2)){
            color = 'green';
        }else{
            color = 'orange';
        }
        function draw(){

            background(255)
            //frameRate(fr)

            if (running === 1){
                xPosition = mouseX
                xPos.push(xPosition)
                yPosition = mouseY
                yPos.push(yPosition)
            }
            stroke(color)
            fill (color)
            //circle(xPos[xPos.length - 1], yPos[yPos.length - 1], lineWeight *1.5)
            for (var i = 3; i < (xPos.length - 1); i++){
                if (xPos[i]=== 'break' || xPos[i-1] === 'break'){
                    
                }else{  
                    strokeWeight(lineWeight)
                    line(xPos[i], yPos[i], xPos[i-1], yPos[i-1])
                        if (lineWeight === 20){
                            direction = 'down';
                            lineWeight = lineWeight - 1
                        }else if (lineWeight === 3){
                            direction = 'up';
                            lineWeight += 1
                        }else if (direction === 'up') {
                            lineWeight += 1
                        }else if (direction ==='down'){
                            lineWeight = lineWeight - 1
                        }

                                            
                    console.log(xPos.length)
                    
                    /*if (lineWeight < 20) {
                        lineWeight += 1
                    } else{
                        lineWeight +- 1
                    }*/
                }
            }

            length = xPos.length
            distance = xPos[length - 1] ^ 2 
            
        }
        function mouseClicked(){
                if (running === 1){
                    running = 0
                    xPos.push("break")
                    yPos.push('break')
                } else if (running ===0){
                    running = 1
                }
            }
    </script>
</head>
    <body>
        Hypnosis ...
        <main>
        </main>
    </body>
</html>